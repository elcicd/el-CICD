###########################################################
##
## el-CICD System Information
##
## Variable defined in here will be accessible both during bootstrap and
## in the Jenkins runtimes.  These values are meant to be common among all installs,
## and can be overridden in the install config files.
##
###########################################################

# LEAVE BLANK IF NOT RUNNING ON OKD
OKD_VERSION=4

###########################################################
##
## Git repo information
##
###########################################################

EL_CICD_REPO=el-CICD
EL_CICD_CONFIG_REPO=el-CICD-config
EL_CICD_DEPLOY_REPO=el-CICD-deploy

# Organization/account where el-CICD repos are hosted
EL_CICD_ORGANIZATION=elcicd
EL_CICD_GIT_DOMAIN=github.com

EL_CICD_GIT_REPO=git@${EL_CICD_GIT_DOMAIN}:${EL_CICD_ORGANIZATION}/${EL_CICD_REPO}.git
EL_CICD_GIT_REPO_BRANCH_NAME=development
EL_CICD_GIT_REPO_READ_ONLY_GITHUB_PRIVATE_KEY_ID=el-cicd-read-only-scm-repo-private-key

EL_CICD_CONFIG_GIT_REPO=git@${EL_CICD_GIT_DOMAIN}:${EL_CICD_ORGANIZATION}/${EL_CICD_CONFIG_REPO}.git
EL_CICD_CONFIG_GIT_REPO_BRANCH_NAME=development
EL_CICD_CONFIG_GIT_REPO_READ_ONLY_GITHUB_PRIVATE_KEY_ID=el-cicd-config-read-only-scm-repo-private-key

###########################################################
##
## Git repo information
##
###########################################################

EL_CICD_HELM_REPOSITORY=https://raw.githubusercontent.com/elcicd/${EL_CICD_DEPLOY_REPO}/main/charts

###########################################################
##
## Supported environments
##
## WARNING:
##   - All environments should be capitalized to mach configuration variables in following section
##   - There must be a DEV_ENV, PRE_PROD_ENV, and PRE_PROD defined
##   - Colons are delimiters for multiple test environment; e.g. TEST_ENVS=QA:UAT:LOAD
##
###########################################################

DEV_ENV=DEV

HOTFIX_ENV=HOTFIX

TEST_ENVS=QA:UAT

PRE_PROD_ENV=STG

PROD_ENV=PROD

###########################################################
##
## Image repository configuration per environment.
## NOTE: configuration for each environment must follow the same pattern for environment ENV:
##
## <ENV>_PULL_TOKEN_FILE=${SECRET_FILE_DIR}/<name of pull token file>
## <ENV>_IMAGE_REGISTRY_DOMAIN=<some repository domain>
## <ENV>_IMAGE_REGISTRY_USERNAME=<some repository username or organization id>
## <ENV>_IMAGE_REGISTRY=<some repository url *_IMAGE_REGISTRY_DOMAIN/*${el.cicd.IMAGE_REGISTRY_USERNAME_POSTFIX}>
## <ENV>_IMAGE_REGISTRY_PULL_SECRET=<some pull secret name; secret is generated at startup with this name>
## <ENV>_IMAGE_REGISTRY_ACCESS_TOKEN_ID=<some id that will be used as the Jenkins credentials id>
##
##  STG is the default Pre-prod (PRE_PROD_ENV above) environment, so it's defined here in system defaults.
##
###########################################################

STG_IMAGE_REGISTRY_USERNAME=elcicdnonprod
STG_IMAGE_REGISTRY=nonprod-demo-image-registry.apps-crc.testing
STG_IMAGE_REGISTRY_PULL_SECRET=el-cicd-image-repo-non-prod-pull-secret
STG_IMAGE_REGISTRY_ACCESS_TOKEN_ID=image-repo-non-prod-access-token
STG_IMAGE_REGISTRY_ENABLE_TLS=false

###########################################################
##
## Jenkins image and build settings
##
###########################################################

###########################################################
##
## Image repository configuration for Jenkins and Jenkins' agents.
##
###########################################################

JENKINS_CONTAINER_CONFIG_DIR=/usr/local/etc

JENKINS_CPU_LIMIT=2
JENKINS_MEMORY_LIMIT=4Gi
JENKINS_VOLUME_CAPACITY=4Gi
JENKINS_PERSISTENT=true

JENKINS_INPUT_TIMEOUT=2

###########################################################
##
## Jenkins agent image and build settings
##
###########################################################

JENKINS_SKIP_AGENT_BUILDS=false

JENKINS_AGENT_CPU_LIMIT=1
JENKINS_AGENT_MEMORY_LIMIT=1Gi
JENKINS_AGENT_CPU_REQUEST=100m
JENKINS_AGENT_MEMORY_REQUEST=256Mi

JENKINS_AGENT_PERSISTENT=true

JENKINS_AGENT_MEMORY_IDLE_MINUTES=0
